appId: com.dhealth.news.news_app
---
# Notifications Test: Tests notification list and interactions
# Verifies notification display, marking as read, and navigation

- launchApp:
    clearState: true

- waitForAnimationToEnd:
    timeout: 5000

# Navigate to Notifications tab
- tapOn:
    text: ".*Notifications tab.*"
- waitForAnimationToEnd

# Verify notifications screen is visible
- assertVisible: "Notifications"

# Test depends on whether notifications exist or not
# This test handles both empty and populated states

# Try to detect if there are notifications
- runFlow:
    when:
      visible: "No notifications yet"
    commands:
      # Empty state - verify empty message
      - assertVisible: "No notifications yet"
      - scroll
      - scroll

- waitForAnimationToEnd:
    timeout: 3000

# Verify we're still on notifications screen
- assertVisible: "Notifications"

# Navigate away and back to test state persistence
- tapOn:
    text: ".*Home.*Tab.*"
- waitForAnimationToEnd

- tapOn:
    text: ".*Notifications tab.*"
- waitForAnimationToEnd

- assertVisible: "Notifications"
