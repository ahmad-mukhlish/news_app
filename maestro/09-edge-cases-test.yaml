appId: com.dhealth.news.news_app
---
# Edge Cases Test: Tests error handling and edge cases
# Verifies app behaves correctly in unusual situations

- launchApp:
    clearState: true

- waitForAnimationToEnd:
    timeout: 10000

# Test 1: Empty search query
- tapOn:
    point: "30%,91%"
- waitForAnimationToEnd

- tapOn: "Search news..."
# Type nothing and submit
- pressKey: Enter

# Should show empty state or stay in same state
- assertVisible: "Search"

# Test 2: Search with special characters
- tapOn: "Search news..."
- inputText: "!@#$%"
- pressKey: Enter

- waitForAnimationToEnd:
    timeout: 5000

# Test 3: Very long search query
- tapOn:
    id: ".*clear.*"
    index: 0

- tapOn: "Search news..."
- inputText: "this is a very long search query to test how the application handles extremely long text input from users who might paste entire paragraphs"
- pressKey: Enter

- waitForAnimationToEnd:
    timeout: 5000

# Clear search
- tapOn:
    id: ".*clear.*"
    index: 0

# Test 4: Rapid navigation switching (stress test)
- tapOn:
    point: "10%,91%"
- tapOn:
    point: "30%,91%"
- tapOn:
    point: "50%,91%"
- tapOn:
    point: "70%,91%"
- tapOn:
    point: "90%,91%"
- tapOn:
    point: "10%,91%"
- tapOn:
    point: "50%,91%"
- tapOn:
    point: "30%,91%"

- waitForAnimationToEnd

# Test 5: Rapid category switching
- tapOn:
    point: "50%,91%"
- waitForAnimationToEnd

- tapOn: "Business"
- tapOn: "Sports"
- tapOn: "Technology"
- tapOn: "Health"
- tapOn: "General"

- waitForAnimationToEnd:
    timeout: 5000

# Test 6: Multiple refresh attempts
- tapOn:
    point: "10%,91%"
- waitForAnimationToEnd

- swipe:
    direction: DOWN
    duration: 500

- waitForAnimationToEnd:
    timeout: 2000

- swipe:
    direction: DOWN
    duration: 500

- waitForAnimationToEnd:
    timeout: 2000

# Test 7: Back button behavior
- tapOn:
    point: "30%,91%"
- tapOn: "Search news..."
- inputText: "test"
- pressKey: Back

# Should dismiss keyboard or go back
- waitForAnimationToEnd

# Test 8: Scroll to bottom and back multiple times
- tapOn:
    point: "10%,91%"
- waitForAnimationToEnd

- scroll:
    direction: DOWN

- scroll:
    direction: DOWN

- scroll:
    direction: DOWN

- scroll:
    direction: UP

- scroll:
    direction: UP

- scroll:
    direction: UP

- scroll:
    direction: DOWN

- scroll:
    direction: DOWN

# Test 9: Empty notification behavior
- tapOn:
    point: "70%,91%"
- waitForAnimationToEnd

# Verify empty state or notifications display
- scroll:
    direction: DOWN

- scroll:
    direction: UP

# Test 10: Return to home and verify app is stable
- tapOn:
    point: "10%,91%"
- assertVisible: "News App"
- assertVisible: "Home"
